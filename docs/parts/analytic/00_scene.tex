
\section{Формализация синтезируемой сцены}

Сцена состоит из следующего набора объектов:
\begin{enumerate}
    \item камера;
    \item источник света;
    \item модель загородного посёлка, состоящая из: 
    \begin{itemize}
        \item домов;
        \item дорог;
        \item деревьев.
    \end{itemize}
\end{enumerate}

\subsection*{Камера}

Камера не является видимым объектом сцены. Она характеризуется только своим положением в пространстве и направлением просмотра. Изображение с камеры отображается в пользовательском интерфейсе ПО;

\subsection*{Источник света}

Источник света отображает солнце, поэтому является всенаправленным и всегда находится на сравнительно большом расстоянии от других объектов сцены.

В пользовательском интерфейсе должна быть возможность задать положение источника света путём задания двух углов, которые задают направление, в котором будет находиться источник света относительно центра сцены. 

Также в пользовательском интерфейсе должна быть возможность изменить расстояние, на котором находится источник света относительно центра сцены.

\subsection*{Модель загородного посёлка}

Модель загородного посёлка является основной частью сцены. Сама модель должна генерироваться в соответствии с параметрами, заданными пользователем в пользовательском интерфейсе.

Далее формализуются объекты, входящие в сцену:

\subsubsection*{Ландшафт}

В сцене не подразумевается использование сложного ландшафта, поэтому в качестве ландшафта используется плоское поле зелёного цвета (поле)

\subsubsection*{Дома}

Дома, входящие в сцену состоят из геометрических примитивов, таких как:
\begin{itemize}
    \item кубы;
    \item параллелепипеды;
    \item призмы.
\end{itemize}

Дома могут иметь как простой (прямоугольный), так и сложный (набор прямоугольников) фундамент. В качестве крыши всегда используются призмы 

\subsubsection*{Дороги}

Дороги должны проходить между домами и соединять их в улицы. 

С точки зрения модели, дорогами являются прямоугольники или параллелепипеды, лежащие на плоскости ландшафта

\subsubsection*{Деревья}

Деревья также состоят из геометрических примитивов:
\begin{itemize}
    \item конусы;
    \item сферы;
    \item многоугольные пирамиды.
\end{itemize}

Все деревья будут представляться елями, имеющими цилиндр коричневого цвета в качестве ствола и тёмно-зелёные многоугольные пирамиды в качестве хвои.

\subsection*{Расположение объектов на модели}

Основная плоскость является двумерной сеткой.

Пусть ячейка -- это такой блок двумерной сетки который может:
\begin{itemize}
    \item пустовать --- в пределах ячейки нет объектов модели помимо основной плоскости;
    \item быть занят --- в пределах ячейки содержится один или несколько объектов сцены.
\end{itemize}

В одной ячейке не может быть одновременно больше одного типа объектов (дом, дорога, дерево), но может быть несколько объектов одного типа.

Объекты не обязательно должны занимать всю площадь ячейки.

Все дома должны быть соединены дорогами, то есть от любого дома можно добраться по дорогам до любого другого дома.
